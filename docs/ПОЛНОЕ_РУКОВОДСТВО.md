# üìö –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ - Telegram Mini App Shop

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û —à–∞–±–ª–æ–Ω–µ](#–æ-—à–∞–±–ª–æ–Ω–µ)
2. [–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞](#–∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è-–º–∞–≥–∞–∑–∏–Ω–∞)
3. [–†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS](#—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ-–Ω–∞-vps)
4. [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
5. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ SSL](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–¥–æ–º–µ–Ω–∞-–∏-ssl)
6. [–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—Ä–µ—à–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

# –û —à–∞–±–ª–æ–Ω–µ

–≠—Ç–æ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –º–∞–≥–∞–∑–∏–Ω–∞ –≤ Telegram Mini App. –í–µ—Å—å –º–∞–≥–∞–∑–∏–Ω –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JSON —Ñ–∞–π–ª—ã - –Ω–µ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∫–æ–¥!

## –ß—Ç–æ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å:

- ‚úÖ –ù–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –õ–æ–≥–æ—Ç–∏–ø
- ‚úÖ –¶–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É (–≤—Å–µ —Ü–≤–µ—Ç–∞)
- ‚úÖ –í–∞–ª—é—Ç—É (—Å–∏–º–≤–æ–ª, –∫–æ–¥, –ø–æ–∑–∏—Ü–∏—é)
- ‚úÖ –ö–æ–Ω—Ç–∞–∫—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –≤ Telegram
- ‚úÖ –¢–µ–∫—Å—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- ‚úÖ –®—Ä–∏—Ñ—Ç—ã –∏ –∏—Ö –Ω–∞—á–µ—Ä—Ç–∞–Ω–∏–µ
- ‚úÖ –†–∞–∑–º–µ—Ä –ª–æ–≥–æ—Ç–∏–ø–∞

## –ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö:

- –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
- –¢–æ–≤–∞—Ä—ã (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, —Ü–µ–Ω–∞, —Ñ–æ—Ç–æ)
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ö–æ—Ä–∑–∏–Ω—ã –∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ

---

# –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞

## –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `config/settings.json`

–≠—Ç–æ –≥–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í–æ—Ç —á—Ç–æ –≤ –Ω—ë–º –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:

```json
{
  "shopName": "–í–∞—à –ú–∞–≥–∞–∑–∏–Ω",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞",
  "logo": "/config/logo.svg",
  
  "currency": {
    "symbol": "‚ÇΩ",
    "code": "RUB",
    "position": "after"
  },
  
  "managerContact": "@–≤–∞—à_—Ç–µ–ª–µ–≥—Ä–∞–º",
  
  "colorScheme": {
    "background": "#FEFEFE",
    "foreground": "#1A1A1A",
    "card": "#FFFFFF",
    "cardForeground": "#1A1A1A",
    "popover": "#FFFFFF",
    "popoverForeground": "#1A1A1A",
    "primary": "#EADCF0",
    "primaryForeground": "#1A1A1A",
    "secondary": "#F5F5F5",
    "secondaryForeground": "#1A1A1A",
    "muted": "#F5F5F5",
    "mutedForeground": "#737373",
    "accent": "#F5F5F5",
    "accentForeground": "#1A1A1A",
    "destructive": "#FF4444",
    "destructiveForeground": "#FFFFFF",
    "border": "#E5E5E5",
    "input": "#E5E5E5",
    "ring": "#1A1A1A"
  },
  
  "sortOptions": [
    { "id": "new", "label": "–ù–æ–≤–∏–Ω–∫–∏", "emoji": "‚ú®" },
    { "id": "popular", "label": "–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ", "emoji": "üî•" },
    { "id": "price_low", "label": "–î–µ—à–µ–≤–ª–µ", "emoji": "üí∞" },
    { "id": "price_high", "label": "–î–æ—Ä–æ–∂–µ", "emoji": "üíé" }
  ],
  
  "ui": {
    "maxWidth": "420px",
    "productsPerPage": 12,
    "showCategoryIcons": true,
    "showPriceFilter": true
  },
  
  "texts": {
    "addToCart": "–í –∫–æ—Ä–∑–∏–Ω—É",
    "checkout": "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑",
    "cart": "–ö–æ—Ä–∑–∏–Ω–∞",
    "favorites": "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ",
    "emptyCart": "–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞",
    "emptyFavorites": "–ù–µ—Ç –∏–∑–±—Ä–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤"
  },
  
  "fonts": {
    "fontFamily": "Inter",
    "fontFile": null,
    "productName": { "weight": 500 },
    "price": { "weight": 600 },
    "description": { "weight": 400 }
  },
  
  "logoSize": 32
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥—Ä–æ–±–Ω–æ:

#### –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **shopName** - –Ω–∞–∑–≤–∞–Ω–∏–µ –º–∞–≥–∞–∑–∏–Ω–∞ (–æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ —à–∞–ø–∫–µ)
- **description** - –æ–ø–∏—Å–∞–Ω–∏–µ (–¥–ª—è SEO)
- **logo** - –ø—É—Ç—å –∫ –ª–æ–≥–æ—Ç–∏–ø—É (–æ–±—ã—á–Ω–æ `/config/logo.svg`)

#### –í–∞–ª—é—Ç–∞:
- **symbol** - —Å–∏–º–≤–æ–ª –≤–∞–ª—é—Ç—ã (`‚ÇΩ`, `$`, `‚Ç¨`, `‚Ç∏`, –∏ —Ç.–¥.)
- **code** - –∫–æ–¥ –≤–∞–ª—é—Ç—ã (`RUB`, `USD`, `EUR`, `KZT`)
- **position** - –ø–æ–∑–∏—Ü–∏—è —Å–∏–º–≤–æ–ª–∞: `"after"` (1000‚ÇΩ) –∏–ª–∏ `"before"` ($1000)

#### –ö–æ–Ω—Ç–∞–∫—Ç:
- **managerContact** - –≤–∞—à Telegram –¥–ª—è —Å–≤—è–∑–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `@username`)

#### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:
–í—Å–µ —Ü–≤–µ—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HEX (#RRGGBB):
- **background** - —Ñ–æ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **foreground** - –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞
- **primary** - –æ—Å–Ω–æ–≤–Ω–æ–π –∞–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç
- **card** - —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–µ–∫
- **border** - —Ü–≤–µ—Ç –≥—Ä–∞–Ω–∏—Ü
- –ò —Ç.–¥.

**–ü—Ä–∏–º–µ—Ä—ã —Ü–≤–µ—Ç–æ–≤—ã—Ö —Å—Ö–µ–º:**

–ü–∞—Å—Ç–µ–ª—å–Ω—ã–π —Ä–æ–∑–æ–≤—ã–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é):
```json
"primary": "#EADCF0",
"primaryForeground": "#1A1A1A"
```

–ì–æ–ª—É–±–æ–π –º–∏–Ω–∏–º–∞–ª–∏–∑–º:
```json
"primary": "#E3F2FD",
"primaryForeground": "#1A1A1A"
```

–¢—ë–º–Ω—ã–π –º–æ–¥–µ—Ä–Ω:
```json
"primary": "#2C3E50",
"primaryForeground": "#FFFFFF"
```

#### –û–ø—Ü–∏–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:
–ú–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –∏ —ç–º–æ–¥–∑–∏:
```json
{ "id": "new", "label": "–ù–æ–≤–æ–µ", "emoji": "üÜï" }
```

#### UI –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- **maxWidth** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (`420px` –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤)
- **productsPerPage** - —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- **showCategoryIcons** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ –∏–∫–æ–Ω–∫–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π
- **showPriceFilter** - –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ª–∏ —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ü–µ–Ω–µ

#### –¢–µ–∫—Å—Ç—ã:
–í—Å–µ –Ω–∞–¥–ø–∏—Å–∏ –∫–Ω–æ–ø–æ–∫ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å

#### –®—Ä–∏—Ñ—Ç—ã:
- **fontFamily** - –Ω–∞–∑–≤–∞–Ω–∏–µ —à—Ä–∏—Ñ—Ç–∞ (`Inter`, `Roboto`, `Open Sans`)
- **fontFile** - –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —à—Ä–∏—Ñ—Ç–∞ (–µ—Å–ª–∏ —Å–≤–æ–π —à—Ä–∏—Ñ—Ç)
- **productName/price/description** - —Ç–æ–ª—â–∏–Ω–∞ —à—Ä–∏—Ñ—Ç–∞ (400-700)

#### –†–∞–∑–º–µ—Ä –ª–æ–≥–æ—Ç–∏–ø–∞:
- **logoSize** - —Ä–∞–∑–º–µ—Ä –≤ –ø–∏–∫—Å–µ–ª—è—Ö (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 32-48)

---

## –®–∞–≥ 2: –ó–∞–º–µ–Ω–∞ –ª–æ–≥–æ—Ç–∏–ø–∞

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–≥–æ—Ç–∏–ø–∞:

1. **–§–æ—Ä–º–∞—Ç**: SVG (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –∏–ª–∏ PNG
2. **–†–∞–∑–º–µ—Ä**: 200x200px –∏–ª–∏ –∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–π
3. **–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω** (–¥–ª—è PNG)

### –ó–∞–º–µ–Ω–∞:

1. –ü–æ–ª–æ–∂–∏—Ç–µ –≤–∞—à –ª–æ–≥–æ—Ç–∏–ø –≤ –ø–∞–ø–∫—É `config/`
2. –ù–∞–∑–æ–≤–∏—Ç–µ –µ–≥–æ `logo.svg` –∏–ª–∏ `logo.png`
3. –ï—Å–ª–∏ –¥—Ä—É–≥–æ–µ –∏–º—è - —É–∫–∞–∂–∏—Ç–µ –≤ settings.json:
   ```json
   "logo": "/config/–º–æ–π-–ª–æ–≥–æ—Ç–∏–ø.svg"
   ```

---

## –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–¢–æ–≤–∞—Ä—ã –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

### –ù–∞ VPS –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SQL

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS
ssh root@–í–ê–®_IP

# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres psql shop_db

# –î–æ–±–∞–≤—å—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é
INSERT INTO categories (id, name, icon) 
VALUES (gen_random_uuid(), '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', 'üíª');

# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
SELECT id, name FROM categories;

# –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä (–∑–∞–º–µ–Ω–∏—Ç–µ CATEGORY_ID –Ω–∞ ID –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã)
INSERT INTO products (id, name, description, price, images, category_id) 
VALUES (
  gen_random_uuid(), 
  'iPhone 15 Pro', 
  '–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω Apple', 
  89990, 
  ARRAY['https://example.com/iphone.jpg'], 
  'CATEGORY_ID'
);

# –í—ã—Ö–æ–¥
\q
```

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: –ß–µ—Ä–µ–∑ Python —Å–∫—Ä–∏–ø—Ç

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `add_products.py`:

```python
import psycopg2
import os

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
conn = psycopg2.connect(os.environ['DATABASE_URL'])
cur = conn.cursor()

# –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
cur.execute("""
    INSERT INTO categories (name, icon) 
    VALUES (%s, %s) 
    RETURNING id
""", ('–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', 'üíª'))
category_id = cur.fetchone()[0]

# –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
products = [
    ('iPhone 15 Pro', '–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π —Å–º–∞—Ä—Ç—Ñ–æ–Ω', 89990, ['https://example.com/iphone.jpg']),
    ('MacBook Pro', '–ú–æ—â–Ω—ã–π –Ω–æ—É—Ç–±—É–∫', 199990, ['https://example.com/macbook.jpg']),
]

for name, desc, price, images in products:
    cur.execute("""
        INSERT INTO products (name, description, price, images, category_id) 
        VALUES (%s, %s, %s, %s, %s)
    """, (name, desc, price, images, category_id))

conn.commit()
cur.close()
conn.close()

print("–¢–æ–≤–∞—Ä—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã!")
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
cd /home/shopapp/app
source venv/bin/activate
python3 add_products.py
```

#### –í–∞—Ä–∏–∞–Ω—Ç –í: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ç–æ–≤—ã–π seed_db.py

```bash
# –ù–∞ VPS
cd /home/shopapp/app
source venv/bin/activate
python3 seed_db.py
```

–≠—Ç–æ –∑–∞–≥—Ä—É–∑–∏—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ. –ü–æ—Ç–æ–º –º–æ–∂–µ—Ç–µ –∏—Ö –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å.

---

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º:

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
npm install
npm run dev

# –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
python3 -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏ venv\Scripts\activate  # Windows
pip install -r requirements.txt
python app.py
```

–û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:5000

---

# –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ VPS

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### –ß—Ç–æ –≤–∞–º –Ω—É–∂–Ω–æ:

1. **VPS —Å–µ—Ä–≤–µ—Ä** —Å Ubuntu 22.04
   - –ú–∏–Ω–∏–º—É–º: 1GB RAM, 1 CPU, 10GB –¥–∏—Å–∫
   - –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: 2GB RAM, 2 CPU, 20GB –¥–∏—Å–∫
   
2. **IP –∞–¥—Ä–µ—Å** –≤–∞—à–µ–≥–æ VPS

3. **SSH –¥–æ—Å—Ç—É–ø** —Å –ø—Ä–∞–≤–∞–º–∏ root

4. **GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** —Å –≤–∞—à–∏–º –∫–æ–¥–æ–º (–∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã)

---

## –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø) ‚ö°

–≠—Ç–æ —Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–± - –æ–¥–Ω–∞ –∫–æ–º–∞–Ω–¥–∞, –Ω–∏–∫–∞–∫–∏—Ö –≤–æ–ø—Ä–æ—Å–æ–≤!

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS

```bash
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```

–ï—Å–ª–∏ –ø–µ—Ä–≤—ã–π —Ä–∞–∑ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å, –ø–æ—è–≤–∏—Ç—Å—è –≤–æ–ø—Ä–æ—Å –æ fingerprint - –Ω–∞–ø–∏—à–∏—Ç–µ `yes`

### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
GITHUB_REPO="https://github.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git" \
curl -fsSL https://raw.githubusercontent.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô/main/auto_deploy.sh | sudo bash
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**
- `–í–ê–®_USERNAME` - –Ω–∞ –≤–∞—à username –≤ GitHub
- `–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô` - –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ Ubuntu
2. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è PostgreSQL (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö)
3. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Nginx (–≤–µ–±-—Å–µ—Ä–≤–µ—Ä)
4. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Node.js 20
5. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Python 3
6. ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `shopapp`
7. ‚úÖ –°–æ–∑–¥–∞—ë—Ç—Å—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö `shop_db`
8. ‚úÖ –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î
9. ‚úÖ –ö–ª–æ–Ω–∏—Ä—É–µ—Ç—Å—è –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–∑ GitHub
10. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
11. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
12. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è systemd —Å–µ—Ä–≤–∏—Å
13. ‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è Nginx
14. ‚úÖ –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–í—Ä–µ–º—è: 3-5 –º–∏–Ω—É—Ç**

### –®–∞–≥ 3: –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
```
http://–í–ê–®_IP_–ê–î–†–ï–°
```

**–ì–æ—Ç–æ–≤–æ!** üéâ

---

## –°–ø–æ—Å–æ–± 2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤—Ä—É—á–Ω—É—é:

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS

```bash
ssh root@–í–ê–®_IP_–ê–î–†–ï–°
```

### –®–∞–≥ 2: –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç

```bash
wget https://raw.githubusercontent.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô/main/deploy_vps.sh
chmod +x deploy_vps.sh
```

### –®–∞–≥ 3: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É

```bash
sudo ./deploy_vps.sh
```

### –°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:

1. **URL GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è** (–∏–ª–∏ Enter –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤):
   ```
   https://github.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git
   ```

2. **–í–µ—Ç–∫–∞** [main]:
   ```
   main
   ```
   (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Enter)

3. **–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** [shopapp]:
   ```
   shopapp
   ```
   (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Enter)

4. **–ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** [shop_db]:
   ```
   shop_db
   ```
   (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Enter)

5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î** [shop_user]:
   ```
   shop_user
   ```
   (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Enter)

6. **–ü–∞—Ä–æ–ª—å –¥–ª—è –ë–î**:
   ```
   –≤–∞—à_–Ω–∞–¥—ë–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å
   ```
   (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å)

7. **–ü–æ—Ä—Ç** [5000]:
   ```
   5000
   ```
   (–∏–ª–∏ –ø—Ä–æ—Å—Ç–æ Enter)

8. **–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ?** (y/n):
   ```
   y
   ```
   (–µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã —Ç–æ–≤–∞—Ä–æ–≤)

### –®–∞–≥ 4: –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–π–º—ë—Ç 5-7 –º–∏–Ω—É—Ç.

### –®–∞–≥ 5: –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç

```
http://–í–ê–®_IP_–ê–î–†–ï–°
```

---

## –ü—Ä–∏–≤–∞—Ç–Ω—ã–π GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

–ï—Å–ª–∏ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø—Ä–∏–≤–∞—Ç–Ω—ã–π, –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø:

### –í–∞—Ä–∏–∞–Ω—Ç A: SSH –∫–ª—é—á (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ù–∞ VPS —Å–æ–∑–¥–∞–π—Ç–µ SSH –∫–ª—é—á
ssh-keygen -t ed25519 -C "vps-deploy"

# –ù–∞–∂–º–∏—Ç–µ Enter 3 —Ä–∞–∑–∞ (–±–µ–∑ –ø–∞—Ä–æ–ª—è)

# –ü–æ–∫–∞–∂–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
cat ~/.ssh/id_ed25519.pub
```

**–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –≤—ã–≤–æ–¥** –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ GitHub:

1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub ‚Üí Settings
2. SSH and GPG keys
3. New SSH key
4. –í—Å—Ç–∞–≤—å—Ç–µ –∫–ª—é—á
5. Save

–¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SSH URL:
```bash
GITHUB_REPO="git@github.com:–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git" \
curl -fsSL https://... | sudo bash
```

### –í–∞—Ä–∏–∞–Ω—Ç –ë: Personal Access Token

1. GitHub ‚Üí Settings ‚Üí Developer settings
2. Personal access tokens ‚Üí Generate new token
3. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∞: `repo` (full control)
4. Generate token
5. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω** (–±–æ–ª—å—à–µ –Ω–µ —É–≤–∏–¥–∏—Ç–µ!)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ URL —Å —Ç–æ–∫–µ–Ω–æ–º:
```bash
GITHUB_REPO="https://–í–ê–®_–¢–û–ö–ï–ù@github.com/–í–ê–®_USERNAME/–í–ê–®_–†–ï–ü–û–ó–ò–¢–û–†–ò–ô.git" \
curl -fsSL https://... | sudo bash
```

---

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∏

–ú–æ–∂–µ—Ç–µ —É–∫–∞–∑–∞—Ç—å —Å–≤–æ–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```bash
GITHUB_REPO="https://github.com/user/repo.git" \
GIT_BRANCH="main" \
APP_USER="myshop" \
DB_NAME="myshop_db" \
DB_USER="myshop_user" \
DB_PASSWORD="–º–æ–π_–ø–∞—Ä–æ–ª—å_123" \
APP_PORT="5000" \
LOAD_SEED_DATA="yes" \
curl -fsSL https://raw.githubusercontent.com/user/repo/main/auto_deploy.sh | sudo bash
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|--------------|----------|
| GITHUB_REPO | (–ø—É—Å—Ç–æ) | URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è |
| GIT_BRANCH | main | –í–µ—Ç–∫–∞ Git |
| APP_USER | shopapp | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| DB_NAME | shop_db | –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö |
| DB_USER | shop_user | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ë–î |
| DB_PASSWORD | (–∞–≤—Ç–æ) | –ü–∞—Ä–æ–ª—å –ë–î |
| APP_PORT | 5000 | –ü–æ—Ä—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |
| LOAD_SEED_DATA | (–Ω–µ—Ç) | yes –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö |

---

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –≤—ã –∏–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥ –∏ –∑–∞–ø—É—à–∏–ª–∏ –≤ GitHub:

## –®–∞–≥ 1: –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ

```bash
# –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
# ...

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git add .
git commit -m "–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π"
git push
```

## –®–∞–≥ 2: –ù–∞ VPS

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS
ssh root@–í–ê–®_IP

# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
cd /home/shopapp/app

# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ GitHub
sudo -u shopapp git pull

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo ./update_vps.sh
```

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç update_vps.sh:

1. ‚úÖ –°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
2. ‚úÖ –û–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥ –∏–∑ GitHub
3. ‚úÖ –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
4. ‚úÖ –°–æ–±–∏—Ä–∞–µ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∑–∞–Ω–æ–≤–æ
5. ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–í—Ä–µ–º—è: 2-3 –º–∏–Ω—É—Ç—ã**

---

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞ –∏ SSL

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–æ–µ–≥–æ –¥–æ–º–µ–Ω–∞

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ DNS

–í –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (Cloudflare, REG.RU, –∏ —Ç.–¥.):

1. –°–æ–∑–¥–∞–π—Ç–µ A-–∑–∞–ø–∏—Å—å:
   - **–¢–∏–ø**: A
   - **–ò–º—è**: @ (–∏–ª–∏ –≤–∞—à –ø–æ–¥–¥–æ–º–µ–Ω)
   - **–ó–Ω–∞—á–µ–Ω–∏–µ**: IP_–ê–î–†–ï–°_VPS
   - **TTL**: 300 (–∏–ª–∏ Auto)

2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-60 –º–∏–Ω—É—Ç (–ø–æ–∫–∞ DNS –æ–±–Ω–æ–≤–∏—Ç—Å—è)

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–º–∞–Ω–¥–æ–π:
   ```bash
   ping –≤–∞—à-–¥–æ–º–µ–Ω.com
   ```
   –î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP –≤–∞—à–µ–≥–æ VPS

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Nginx –Ω–∞ VPS

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ VPS
ssh root@–í–ê–®_IP

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–æ–º–µ–Ω–∞
cd /home/shopapp/app
sudo ./setup_domain.sh
```

–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
```
–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω: –≤–∞—à-–¥–æ–º–µ–Ω.com
```

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –¥–æ–º–µ–Ω—É.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (HTTPS)

### –®–∞–≥ 1: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –¥–æ–º–µ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–Ω

```bash
ping –≤–∞—à-–¥–æ–º–µ–Ω.com
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å IP –≤–∞—à–µ–≥–æ VPS.

### –®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ SSL

```bash
# –ù–∞ VPS
cd /home/shopapp/app
sudo ./setup_ssl.sh
```

–°–∫—Ä–∏–ø—Ç —Å–ø—Ä–æ—Å–∏—Ç:
```
–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω: –≤–∞—à-–¥–æ–º–µ–Ω.com
–í–≤–µ–¥–∏—Ç–µ email –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π: –≤–∞—à@email.com
```

### –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:

1. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Certbot
2. –ü–æ–ª—É—á–∞–µ—Ç—Å—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π SSL –æ—Ç Let's Encrypt
3. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
4. Nginx –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –Ω–∞ HTTPS

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —Å–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ `https://–≤–∞—à-–¥–æ–º–µ–Ω.com`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ

SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 90 –¥–Ω–µ–π –∏ –ø—Ä–æ–¥–ª–µ–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–æ–∂–Ω–æ:
```bash
sudo certbot renew --dry-run
```

---

# –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status shop-app

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
systemctl start shop-app

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
systemctl stop shop-app

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart shop-app

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
journalctl -u shop-app -f

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
journalctl -u shop-app -n 100
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Nginx

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
systemctl restart nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –õ–æ–≥–∏ Nginx
tail -f /var/log/nginx/shop_error.log
tail -f /var/log/nginx/shop_access.log
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –±–∞–∑–µ
sudo -u postgres psql shop_db

# –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
cd /home/shopapp/app
sudo ./backup_db.sh

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–∑ –∫–æ–ø–∏–∏
sudo ./restore_db.sh

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ —Ç–æ–≤–∞—Ä—ã
sudo -u postgres psql shop_db -c "SELECT * FROM products;"

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
sudo -u postgres psql shop_db -c "SELECT * FROM categories;"
```

## –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –¥—Ä—É–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cat /home/shopapp/app/.env

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞–≥–∞–∑–∏–Ω–∞
cat /home/shopapp/app/config/settings.json
```

## –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –±–µ–ª—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏–ª–∏ –æ—à–∏–±–∫–∏ 403:

```bash
cd /home/shopapp/app
sudo ./fix_permissions.sh
```

---

# –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

## –ë–µ–ª–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ / –û—à–∏–±–∫–∏ 403 Forbidden

### –ü—Ä–æ–±–ª–µ–º–∞:
–°–∞–π—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –≤ –±—Ä–∞—É–∑–µ—Ä–µ –±–µ–ª–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞.

### –†–µ—à–µ–Ω–∏–µ:

```bash
# –ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
cd /home/shopapp/app
sudo ./fix_permissions.sh

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ Nginx
systemctl restart nginx
```

–û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç —Å–Ω–æ–≤–∞ - –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å.

---

## –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:

```bash
# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
journalctl -u shop-app -n 100

# –°—Ç–∞—Ç—É—Å
systemctl status shop-app
```

### –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:

**1. –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ PostgreSQL
systemctl status postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–æ–ª—å –≤ .env
cat /home/shopapp/app/.env
```

**2. –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Ä—Ç 5000
sudo lsof -i :5000

# –£–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å (–∑–∞–º–µ–Ω–∏—Ç–µ PID)
kill -9 PID
```

**3. –ù–µ —Å–æ–±—Ä–∞–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥:**
```bash
cd /home/shopapp/app
sudo -u shopapp npm run build
systemctl restart shop-app
```

---

## Git pull –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞:
`git pull` –≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫–∏ –∏–ª–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∫–æ–¥.

### –†–µ—à–µ–Ω–∏–µ:

```bash
# –°–±—Ä–æ—Å–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
cd /home/shopapp/app
sudo -u shopapp git stash

# –û–±–Ω–æ–≤–∏—Ç—å
sudo -u shopapp git pull

# –ò–ª–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ
sudo -u shopapp git fetch origin
sudo -u shopapp git reset --hard origin/main
```

---

## SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

### –ü—Ä–æ–±–ª–µ–º–∞:
Certbot –≤—ã–¥–∞—ë—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ SSL.

### –†–µ—à–µ–Ω–∏–µ:

**1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS:**
```bash
ping –≤–∞—à-–¥–æ–º–µ–Ω.com
```

–î–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å IP –≤–∞—à–µ–≥–æ VPS.

**2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã 80 –∏ 443:**
```bash
sudo ufw status
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–æ: 80/tcp, 443/tcp
```

**3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â—ë —Ä–∞–∑:**
```bash
cd /home/shopapp/app
sudo ./setup_ssl.sh
```

---

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# PostgreSQL –∑–∞–ø—É—â–µ–Ω?
systemctl status postgresql

# –ú–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è?
sudo -u postgres psql -c "SELECT 1"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DATABASE_URL
cat /home/shopapp/app/.env
```

### –†–µ—à–µ–Ω–∏–µ:

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PostgreSQL
systemctl restart postgresql

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë–î
sudo -u postgres psql -c "\du"

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
sudo -u postgres psql <<EOF
DROP USER IF EXISTS shop_user;
CREATE USER shop_user WITH PASSWORD '–≤–∞—à_–ø–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON DATABASE shop_db TO shop_user;
EOF
```

---

## –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

```bash
# –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ worker'–æ–≤
sudo nano /etc/systemd/system/shop-app.service

# –ò–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
ExecStart=.../gunicorn app:app --bind 127.0.0.1:5000 --workers 8 --timeout 120

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
systemctl daemon-reload
systemctl restart shop-app
```

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ workers: `2 √ó –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_CPU + 1`

---

## –û—á–∏—Å—Ç–∫–∞ –¥–∏—Å–∫–∞

–ï—Å–ª–∏ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è:

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –ª–æ–≥–∏
sudo journalctl --vacuum-time=7d

# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –ø–∞–∫–µ—Ç—ã
sudo apt autoremove
sudo apt clean

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ë–î
cd /home/shopapp/app/backups
ls -lt
# –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ .sql —Ñ–∞–π–ª—ã
```

---

# –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ë–î

```bash
cd /home/shopapp/app
sudo ./backup_db.sh
```

–ö–æ–ø–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `backups/shop_db_YYYY-MM-DD_HH-MM-SS.sql`

## –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –∫–æ–ø–∏–∏

```bash
cd /home/shopapp/app
sudo ./restore_db.sh
```

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–ø–∏–π.

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–ø–∏–π

–°–æ–∑–¥–∞–π—Ç–µ cron –∑–∞–¥–∞—á—É:

```bash
sudo crontab -e

# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É (–∫–æ–ø–∏—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 3 –Ω–æ—á–∏):
0 3 * * * /home/shopapp/app/backup_db.sh

# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –≤—ã–π–¥–∏—Ç–µ
```

---

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Å–∞–π—Ç –æ—Ç–≤–µ—á–∞–µ—Ç
curl -I http://localhost:5000

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: HTTP/1.1 200 OK

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
htop

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞
df -h

# –†–∞–∑–º–µ—Ä –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
du -sh /home/shopapp/app
```

---

# Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å Telegram –±–æ—Ç–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

```bash
cd /home/shopapp/app/telegram_bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –±–æ—Ç–∞
nano settingsbot.json

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ
python3 bot.py
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ `telegram_bot/README.md`

---

# –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

## –ß–µ–∫-–ª–∏—Å—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è:

- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ `config/settings.json`
- [ ] –ó–∞–º–µ–Ω–∏–ª–∏ –ª–æ–≥–æ—Ç–∏–ø
- [ ] –ó–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ GitHub
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª–∏ –∞–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫—É –Ω–∞ VPS
- [ ] –î–æ–±–∞–≤–∏–ª–∏ —Ç–æ–≤–∞—Ä—ã –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —á—Ç–æ —Å–∞–π—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –¥–æ–º–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ SSL (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- **–ê–≤—Ç–æ—É—Å—Ç–∞–Ω–æ–≤–∫–∞**: `auto_deploy.sh`
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞**: `deploy_vps.sh`
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ**: `update_vps.sh`
- **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è**: `backup_db.sh`
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤**: `fix_permissions.sh`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ–º–µ–Ω–∞**: `setup_domain.sh`
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL**: `setup_ssl.sh`

---

**–£—Å–ø–µ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤–∞—à–µ–≥–æ –º–∞–≥–∞–∑–∏–Ω–∞! üöÄ**

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - —Å–º–æ—Ç—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "–†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º" –≤—ã—à–µ.
